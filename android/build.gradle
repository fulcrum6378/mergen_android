plugins { id 'com.android.application' }

android {
    namespace 'ir.mahdiparastesh.mergen'
    compileSdk 34
    buildToolsVersion = '34.0.0'
    ndkVersion '26.1.10909125'

    defaultConfig {
        applicationId 'ir.mahdiparastesh.mergen'
        minSdk 30
        targetSdk 34
        versionCode 1
        versionName rootProject.ext.VERSION
        externalNativeBuild { cmake { cppFlags ''; arguments "-DVERSION=${rootProject.ext.VERSION}" } }
        shaders { glslcArgs.addAll(['-c']) } // invokes Shaderc to compile shaders into SPIR-V
    }
    sourceSets.main {
        manifest.srcFile 'AndroidManifest.xml'
        java.srcDirs = ['java']
        res.srcDirs = ['res']
        shaders.srcDirs = ['../shaders']
    }
    externalNativeBuild { cmake { path file('../cpp/CMakeLists.txt'); version '3.22.1' } }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_20; targetCompatibility JavaVersion.VERSION_20
    }
}
